<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ”§ Framer Routing Fix</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 2rem;
        }
        
        .card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 1000px;
            margin: 0 auto;
            padding: 3rem;
        }
        
        h1 {
            font-size: 2rem;
            color: #2d2f2e;
            margin-bottom: 1rem;
        }
        
        .warning {
            background: #fff3cd;
            border: 2px solid #ffc107;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            color: #856404;
        }
        
        .step {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            border-left: 4px solid #667eea;
        }
        
        .step h2 {
            color: #667eea;
            margin-bottom: 1rem;
        }
        
        .mapping {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
        }
        
        .mapping-item {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 1rem;
            padding: 0.75rem;
            border-bottom: 1px solid #e0e0e0;
            align-items: center;
        }
        
        .mapping-item:last-child {
            border-bottom: none;
        }
        
        input {
            padding: 0.5rem;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 0.9rem;
        }
        
        input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 1rem 2rem;
            font-size: 1rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            width: 100%;
            margin-top: 1rem;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }
        
        code {
            background: #f0f0f0;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #667eea;
        }
        
        .file-label {
            display: block;
            background: #667eea;
            color: white;
            padding: 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            font-weight: 600;
            margin: 1rem 0;
        }
        
        .file-input {
            display: none;
        }
        
        .results {
            background: #d4edda;
            border: 2px solid #28a745;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            display: none;
        }
    </style>
</head>
<body>
    <div class="card">
        <h1>ğŸ”§ Framer Routing Fix</h1>
        <p style="color: #666; margin-bottom: 2rem;">
            Framer'Ä±n routing sistemini devre dÄ±ÅŸÄ± bÄ±rakÄ±p normal HTML linklere Ã§evirin
        </p>
        
        <div class="warning">
            <h3>âš ï¸ Sorun:</h3>
            <p>Framer <code>/about</code>, <code>/projects</code> gibi route'lar kullanÄ±yor ama senin dosyalarÄ±n <code>ajans.html</code>, <code>projeler.html</code> ÅŸeklinde.</p>
            <br>
            <h3>âœ… Ã‡Ã¶zÃ¼m:</h3>
            <p>Bu araÃ§ tÃ¼m Framer route linklerini senin dosya isimlerine Ã§evirecek.</p>
        </div>
        
        <div class="step">
            <h2>1ï¸âƒ£ Route EÅŸleÅŸtirmesi</h2>
            <p>Framer route'larÄ±nÄ± kendi dosya isimlerinizle eÅŸleÅŸtirin:</p>
            
            <div class="mapping">
                <div class="mapping-item">
                    <input type="text" value="/" readonly style="background: #f0f0f0;">
                    <span>â†’</span>
                    <input type="text" id="map-home" value="anasayfa.html" placeholder="anasayfa.html">
                </div>
                <div class="mapping-item">
                    <input type="text" value="/about" readonly style="background: #f0f0f0;">
                    <span>â†’</span>
                    <input type="text" id="map-about" value="ajans.html" placeholder="ajans.html">
                </div>
                <div class="mapping-item">
                    <input type="text" value="/projects" readonly style="background: #f0f0f0;">
                    <span>â†’</span>
                    <input type="text" id="map-projects" value="projeler/Projeler anasayfa.html" placeholder="projeler.html">
                </div>
                <div class="mapping-item">
                    <input type="text" value="/project-lobby" readonly style="background: #f0f0f0;">
                    <span>â†’</span>
                    <input type="text" id="map-project-lobby" value="projeler/Projeler anasayfa.html" placeholder="projeler.html">
                </div>
                <div class="mapping-item">
                    <input type="text" value="/blog" readonly style="background: #f0f0f0;">
                    <span>â†’</span>
                    <input type="text" id="map-blog" value="haberler/haberleranasayfa.html" placeholder="haberler.html">
                </div>
                <div class="mapping-item">
                    <input type="text" value="/blog-lobby" readonly style="background: #f0f0f0;">
                    <span>â†’</span>
                    <input type="text" id="map-blog-lobby" value="haberler/haberleranasayfa.html" placeholder="haberler.html">
                </div>
                <div class="mapping-item">
                    <input type="text" value="/pricing" readonly style="background: #f0f0f0;">
                    <span>â†’</span>
                    <input type="text" id="map-pricing" value="projeler/teklifler.html" placeholder="fiyatlar.html">
                </div>
                <div class="mapping-item">
                    <input type="text" value="/contact" readonly style="background: #f0f0f0;">
                    <span>â†’</span>
                    <input type="text" id="map-contact" value="iletisim.html" placeholder="iletisim.html">
                </div>
            </div>
        </div>
        
        <div class="step">
            <h2>2ï¸âƒ£ HTML DosyalarÄ±nÄ± SeÃ§in</h2>
            <label class="file-label" for="htmlFiles">
                ğŸ“‚ HTML DosyalarÄ±nÄ± SeÃ§ (Ã‡oklu SeÃ§im)
            </label>
            <input type="file" id="htmlFiles" class="file-input" accept=".html" multiple>
            <div id="fileCount" style="text-align: center; color: #666; margin-top: 0.5rem;"></div>
        </div>
        
        <div class="step">
            <h2>3ï¸âƒ£ Linkleri DÃ¼zelt</h2>
            <button class="btn" id="processBtn" onclick="processFiles()" disabled>
                âœ¨ TÃ¼m Linkleri DÃ¼zelt
            </button>
        </div>
        
        <div class="results" id="results">
            <h3>âœ… Ä°ÅŸlem TamamlandÄ±!</h3>
            <div id="resultsSummary"></div>
            <button class="btn" onclick="downloadAll()">ğŸ’¾ TÃ¼m DosyalarÄ± Ä°ndir</button>
        </div>
    </div>

    <script>
        let selectedFiles = [];
        let processedFiles = [];
        
        document.getElementById('htmlFiles').addEventListener('change', function(e) {
            selectedFiles = Array.from(e.target.files);
            document.getElementById('fileCount').textContent = 
                `âœ… ${selectedFiles.length} dosya seÃ§ildi`;
            document.getElementById('processBtn').disabled = false;
        });
        
        async function processFiles() {
            if (selectedFiles.length === 0) {
                alert('LÃ¼tfen Ã¶nce dosya seÃ§in!');
                return;
            }
            
            // Route mapping'i al
            const routeMap = {
                '/': document.getElementById('map-home').value,
                '/about': document.getElementById('map-about').value,
                '/projects': document.getElementById('map-projects').value,
                '/project-lobby': document.getElementById('map-project-lobby').value,
                '/blog': document.getElementById('map-blog').value,
                '/blog-lobby': document.getElementById('map-blog-lobby').value,
                '/pricing': document.getElementById('map-pricing').value,
                '/contact': document.getElementById('map-contact').value
            };
            
            processedFiles = [];
            
            for (const file of selectedFiles) {
                try {
                    let htmlContent = await file.text();
                    let changeCount = 0;
                    
                    // Framer route linklerini deÄŸiÅŸtir
                    Object.entries(routeMap).forEach(([route, fileName]) => {
                        if (!fileName) return;
                        
                        // href="/about" â†’ href="ajans.html"
                        const regex1 = new RegExp(`href="${route}"`, 'g');
                        const matches1 = htmlContent.match(regex1);
                        if (matches1) changeCount += matches1.length;
                        htmlContent = htmlContent.replace(regex1, `href="${fileName}"`);
                        
                        // href='/about' â†’ href='ajans.html'
                        const regex2 = new RegExp(`href='${route}'`, 'g');
                        const matches2 = htmlContent.match(regex2);
                        if (matches2) changeCount += matches2.length;
                        htmlContent = htmlContent.replace(regex2, `href='${fileName}'`);
                        
                        // data-framer-page-link="/about" â†’ data-framer-page-link="ajans.html"
                        const regex3 = new RegExp(`data-framer-page-link="${route}"`, 'g');
                        const matches3 = htmlContent.match(regex3);
                        if (matches3) changeCount += matches3.length;
                        htmlContent = htmlContent.replace(regex3, `data-framer-page-link="${fileName}"`);
                    });
                    
                    // Framer routing script'lerini devre dÄ±ÅŸÄ± bÄ±rak
                    htmlContent = htmlContent.replace(
                        /<script[^>]*framer[^>]*router[^>]*>[\s\S]*?<\/script>/gi,
                        '<!-- Framer router disabled -->'
                    );
                    
                    processedFiles.push({
                        name: file.name,
                        content: htmlContent,
                        changeCount: changeCount
                    });
                    
                } catch (error) {
                    console.error('Hata:', file.name, error);
                }
            }
            
            showResults();
        }
        
        function showResults() {
            const results = document.getElementById('results');
            const summary = document.getElementById('resultsSummary');
            
            const totalChanges = processedFiles.reduce((sum, f) => sum + f.changeCount, 0);
            
            summary.innerHTML = `
                <p><strong>ğŸ“Š Ã–zet:</strong></p>
                <ul style="margin-left: 1.5rem; line-height: 1.8;">
                    <li>âœ… ${processedFiles.length} dosya iÅŸlendi</li>
                    <li>ğŸ”— ${totalChanges} link deÄŸiÅŸtirildi</li>
                </ul>
                <br>
                <p><strong>ğŸ’¡ Sonraki AdÄ±m:</strong></p>
                <p>Ä°ndirilen dosyalarÄ± eski dosyalarÄ±n Ã¼zerine kopyalayÄ±n.</p>
            `;
            
            results.style.display = 'block';
        }
        
        function downloadAll() {
            processedFiles.forEach(file => {
                const blob = new Blob([file.content], { type: 'text/html' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = file.name;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            });
            
            alert('âœ… TÃ¼m dosyalar indirildi!');
        }
    </script>
</body>
</html>
